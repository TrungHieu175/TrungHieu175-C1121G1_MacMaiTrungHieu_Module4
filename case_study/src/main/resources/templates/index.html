<!DOCTYPE html>
<html lang="en">
<head>
    <title>Customer List</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <!-- Font Awesome -->
    <link
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
            rel="stylesheet"
    />
    <!-- Google Fonts -->
    <link
            href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
            rel="stylesheet"
    />
    <!-- MDB -->
    <link
            href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.11.0/mdb.min.css"
            rel="stylesheet"
    />
    <!--===============================================================================================-->
    <link rel="icon" type="image/png" href="images/icons/favicon.ico"/>
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="vendor/bootstrap/css/bootstrap.min.css">
    <!--===============================================================================================-->
    <link rel="stylesheet" href="fonts/font-awesome-4.7.0/css/font-awesome.min.css">
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="vendor/animate/animate.css">
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="vendor/select2/select2.min.css">
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="vendor/perfect-scrollbar/perfect-scrollbar.css">
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="css/util.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <!--===============================================================================================-->


</head>
<body>
<form action="/index">
    <div class="input-group">
        <div class="form-outline">
            <input type="text" id="form1" class="form-control" name="keyword"/>
            <label class="form-label" for="form1">Search</label>
        </div>
        <button type="submit" class="btn btn-primary">
            <i class="fas fa-search"></i>
        </button>
    </div>
</form>
<form>
    <div class="limiter">
        <div class="container-table100">
            <div class="wrap-table100">
                <div class="table100 ver1">
                    <div class="table100-firstcol">
                        <table>
                            <thead>
                            <tr class="row100 head">
                                <th class="cell100 column1">Customer</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr class="row100 body" th:each="cus : ${list}">
                                <td style="line-height: 2.5;" class="cell100 column1" th:text="${cus.name}"></td>
                            </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="wrap-table100-nextcols js-pscroll">
                        <div class="table100-nextcols">
                            <table>
                                <thead>
                                <tr class="row100 head">
                                    <th class="cell100 column2">Birthday</th>
                                    <th class="cell100 column3">Gender</th>
                                    <th class="cell100 column4">Id Card</th>
                                    <th class="cell100 column5">Phone</th>
                                    <th class="cell100 column6">Email</th>
                                    <th class="cell100 column7">Address</th>
                                    <th class="cell100 column8">Customer Type</th>
                                    <th class="cell100 column8">Action</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr class="row100 body" th:each="cus : ${list}">
                                    <td class="cell100 column2" th:text="${cus.birthday}"></td>
                                    <td class="cell100 column3" th:text="${cus.gender}"></td>
                                    <td class="cell100 column4" th:text="${cus.idCard}"></td>
                                    <td class="cell100 column5" th:text="${cus.phone}"></td>
                                    <td class="cell100 column6" th:text="${cus.email}"></td>
                                    <td class="cell100 column7" th:text="${cus.address}"></td>
                                    <td class="cell100 column8" th:text="${cus.customerType.typeName}"></td>
                                    <td class="cell100 column8" colspan="2" >
                                        <a th:href="@{/edit/{id}(id=${cus.id})}" class="btn btn-primary">Edit</a>
                                        <button class="btn btn-success" data-bs-toggle="modal" data-bs-target="#exampleModal"
                                                th:onclick="'javascript:deleteCustomer(' + ${cus.id} + ')'">Remove
                                        </button>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>
<div>
    <a th:if="${list.hasPrevious()}"
       th:href="@{/index(page=${list.number - 1},keyword=${keywordValue})}">Previous</a>
    <span th:text="${list.number + 1}"></span> /
    <span th:text="${list.totalPages}"></span>
    <a th:if="${list.hasNext()}"
       th:href="@{/index(page=${list.number + 1},keyword=${keywordValue})}">Next</a>
</div>
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Xác Nhận</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" style="color: red">
                Bạn có muốn xóa hay không?
            </div>
            <form id="form-delete" method="get" action="/remove">
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="submit" class="btn btn-primary">Delete</button>
                </div>
                <input type="hidden" name="id" id="id-customer">
            </form>
        </div>
    </div>
</div>
<script>
    function deleteCustomer(id) {
        document.getElementById("id-customer").value = id;
        // document.getElementById("name-customer").innerText = nameCustomer;
    }
</script>

<!--===============================================================================================-->
<script src="vendor/jquery/jquery-3.2.1.min.js"></script>
<!--===============================================================================================-->
<script src="vendor/bootstrap/js/popper.js"></script>
<script src="vendor/bootstrap/js/bootstrap.min.js"></script>
<!--===============================================================================================-->
<script src="vendor/select2/select2.min.js"></script>
<!--===============================================================================================-->
<script src="vendor/perfect-scrollbar/perfect-scrollbar.min.js"></script>
<script>
    $('.js-pscroll').each(function () {
        var ps = new PerfectScrollbar(this);

        $(window).on('resize', function () {
            ps.update();
        })

        $(this).on('ps-x-reach-start', function () {
            $(this).parent().find('.table100-firstcol').removeClass('shadow-table100-firstcol');
        });

        $(this).on('ps-scroll-x', function () {
            $(this).parent().find('.table100-firstcol').addClass('shadow-table100-firstcol');
        });

    });


</script>
<!--===============================================================================================-->
<script src="js/main.js"></script>

</body>
</html>